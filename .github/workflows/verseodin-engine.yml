- name: Install dependencies
  run: |
    cd verseodin_engine
    python -m pip install --upgrade pip
    pip install -r requirements.txt

- name: Run verseodin engine
  env:
    SQS_QUEUE_URL: ${{ vars.SQS_QUEUE_URL }}
    OUTPUT_SQS_QUEUE_URL: ${{ vars.OUTPUT_SQS_QUEUE_URL }}
    AWS_REGION: ${{ vars.AWS_REGION }}
    GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}
    PROXY_URL: ${{ secrets.PROXY_URL }}
  run: |
    cd verseodin_engine
    python verseodin_engine.py --work-seconds 420 --total-seconds 600 --poll-seconds 3 --task-timeout 240
